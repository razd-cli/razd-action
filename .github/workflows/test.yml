name: Test razd-action

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:

jobs:
  test-action:
    runs-on: ubuntu-latest
    steps:
      - name: Test our action
        uses: ./
        with:
          mise-version: '2025.11.2'
          checkout-repository: 'true'
      
      - name: Test razd installation 
        run: |
          echo "Checking if razd is installed..."
          which razd || echo "razd not found in PATH"
          razd --version || echo "razd --version failed"
        shell: bash